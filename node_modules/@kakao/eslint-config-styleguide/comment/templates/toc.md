
<a name="table-of-contents"></a>
## Table of Contents

- **[1. JSDoc 주석](#jsdoc-comment)**
- **[2. 필수사항](#required)**
  - [2.1 스타일 가이드를 부득이하게 지키지 않는 경우](#not-follow-style-guide)
  - [2.2 특정 이슈에 대한 해결방법이 코드에 녹아 있는경우](#workaround)
  - [2.3 기획이나 기능이 복잡하여 상세 설명이 필요한 경우](#additional-description)
  - [2.4 서비스 내 공통모듈인 경우](#common-module)
- **[3. 선택사항](#optional)**
  - [3.1 namespace](#namespace)
  - [3.2 module](#module)
  - [3.3 function](#function)
  - [3.4 class](#class)
  - [3.5 example](#example)
- **[4. IDE 지원](#ide-setting)**
- **[5. eslint-plugin-jsdoc 기반 규칙](#eslint-plugin-jsdoc)**
{{#each categories}}
{{#each this.rules}}
{{#with this}}
  - [{{moveTOC number 4}}. {{title}}](#{{rule}})
{{/with}}
{{/each}}
{{/each}}

---

<a name="jsdoc-comment"></a>
## [1.](#jsdoc-comment) JSDoc 주석
JSDoc은 JavaScript로 작성한 코드를 자동으로 문서화 하는 도구이다.  
하지만 문서를 만드는 목적 외에도, 규격화된 주석을 통해 코드를 이해하는데 도움을 줄 수 있다.  
JSDoc 주석은 /** 로 시작해서 */ 로 끝나며 @로 시작하는 태그를 통해 이 주석이 코드의 어떤 부분을 설명하는지 표기한다.  
아래는 JSDoc 주석의 예이다.

한줄
```javascript
/** jsdoc 한줄 주석 */
```

여러줄
```javascript
/** 
 *  jsdoc 여러줄 주석
 *  blah blah.....
 *  blah blah....
 *  @태그 {타입} 추가 내용...
 */
```

**[⬆ 처음으로](#table-of-contents)**

---

<a name="required"></a>
## [2.](#required) 필수사항

<a name="not-follow-style-guide"></a>
### [2.1](#not-follow-style-guide) 스타일 가이드를 부득이하게 지키지 않는 경우 

```javascript
/**
 * [workaround] 
 * 이슈:
 *    - 타 서비스와의 연동시 글로벌 함수가 필요하여 전역 함수를 두게 되었다
 * @see https://github.daumkakao.com/webtech/styleguide/blob/master/es3/README.md#%EB%84%A4%EC%9E%84%EC%8A%A4%ED%8E%98%EC%9D%B4%EC%8A%A4%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%A0%84%EC%97%AD%EB%B3%80%EC%88%98%EB%A5%BC-%EC%B5%9C%EC%86%8C%ED%99%94%ED%95%9C%EB%8B%A4
 */
/* eslint-disable no-global-assign */
window.onChange = function () {
 // some codes...
}
/* eslint-enable no-global-assign */
```

> /* eslint-disable 규칙명 \*/ 으로 임시로 규칙 검사를 끌 수 있다.  
> 의도한 코드 뒤에는 반드시 /* eslint-enable 규칙명 \*/ 으로 다시 켜야 한다.

<a name="workaround"></a>
### [2.2](#workaround) 특정 이슈에 대한 해결방법이 코드에 녹아 있는경우
이슈, 원인, 해결책 단계로 작성한다.
```javascript 
/**
 * [workaround]
 * 이슈:
 *  - 서버 렌더링 시에 호출되는 서버 api 호출 시 전달되어야 할 헤더값들이 전달이 안됨
 * 원인:
 *  - 서버 렌더링 시에 서버의 로컬에서 호출되는 axios는 웹 클라이언트에서 맺어진 세션과 다른 세션을 가짐
 *  - 그 결과 서버 api 호출 시 세션에 저장되어 있는 헤더 정보가 전달이 안되는 문제가 있음
 * 해결책:
 *  - 서버렌더링 시에는 store 생성 시에 config를 전달하여 설정하고 api 호출 시 이 헤더 정보를 넘겨주게 함
 */
```
```javascript 
/**
 * [workaround] 
 * 이슈: 
 *  - IE9의 경우 delete로 삭제하면 input 이벤트가 발생하지 않고 입력할 때 키보드를 계속 누르면 input 이벤트만 발생한다.
 *  - 관련 CS 지라 : FETF-777
 * 원인:
 *  - IE브라우저 버그
 * 해결책:
 * - keyup 이벤트에서도 변경 여부를 확인한다.
 */
```

setTimeout 같이 비동기로 프로그래밍했을 경우 이유에 대해 서술한다.
```javascript 
/**
 * [workaround] 
 * 이슈: 
 *  - openApp 실행 시작 시각은 명확하나 종료 시각은 명확하지 않다.
 * 원인:
 *  - 웹에서 앱으로 넘어가는 시점을 알수없다.
 * 해결책:
 * - 시간인 MAX_LIMIT_TIME을 두고 이 시간에는 앱이 실행되지 못했다는 것은 해당 작업의 종료로 본다
 * - 이 방식이 타당한가 여부는 아래의 둘을 확인 해본다
 * - 1. 앱이 실행된 경우 : 앱이 실행된 경우에는 페이지가 리로드 되기 때문에 해당 인자 값을 고려할 필요가 없다
 * - 2. 앱이 실행되지 않은 경우
 * - 2-1. 오류 등 실패 할 경우 실패 로직을 타기 때문에 바로 false 된다
 * - 2-2. 앱이 뜨는데 시간이 걸리는 경우 또는 스토어로 이동하는 경우
 */
const MAX_LIMIT_TIME = 997;

_.delay(function () {
  _isOpenning = false;
}, MAX_LIMIT_TIME);
```

<a name="additional-description"></a>
### [2.3](#additional-description) 기획이나 기능이 복잡하여 상세 설명이 필요한 경우 
스펙이 복잡하거나 따로 부연설명이 필요한 경우 주석으로 설명하고 자세한 부분은 링크로 걸어둔다.
지라 티켓번호가 있는 경우 지라도 링크를 걸어둔다.
```javascript
/**
  * @description  공유 가능한 글인지 여부를 판단
  *   - 스토리로 공유하기와 url을 기반으로 하는 공유(url 복사, 페이스북/트위터 공유)의 가능 여부를 같은 기준(공유글의 경우 원본글 기준)으로 처리
  *   - 블라인드 된 글, 삭제된 글은 공유가 불가능
  *   - 단, 본인 글인 경우라면 전체공개, 친구공개의 경우 공유설정과 무관하게 공유가능
  *   - 공유글인 경우 (원본글 무관) 공유타입의 글이 편친보기 또는 나만보기로 설정된 경우 공유 불가능
  *
  * @see https://docs.google.com/spreadsheets/d/1JR7yGjm3z7JO6gcQ01oBcOPLFr4FNCnNUWGvTLaamH0/edit#gid=0
  */
```

자주 변경되어 히스토리 관리가 필요한 경우
```javascript
/**
 * @description 위젯 데이터 관련 히스토리
 *   - 위젯의 소식끊기 데이터는 주간 합계 데이터로 보여준다 (지라: FETF-4)
 *   - 소식끊기 데이터는 전날의 합계로 보여준다 (지라: FETE-8)
 *   - 다시 데이터는 주간 합계로 보여준다 (지라: FETE-12)
 */
```

<a name="common-module"></a>
### [2.4](#common-module) 서비스내 공통모듈의 경우 
서비스 전반적으로 사용하는 공통모듈의 경우 주석만으로 코드의 목적과 사용법을 알 수 있도록 기입하는 것을 권장한다.
```javascript
/**
 * 사용자의 환경(os, type, vender, browser)를 구분한다.
 *
 * `agent`는 글로벌로 접근할 수 있고, 아래 기본 정보는 `agent`의 프로퍼티로 조회할 수 있다.
 *   - os: 사용자 운영체제 환경
 *   - type: 모바일, 태블릿, 데스크탑 여부
 *   - vendor: 제조사 정보
 *   - browser: 사용자 브라우저 정보
 *
 * 기본 정보는 `name`과 `is` 공통 속성을 갖는다.
 * `name`으로 현재 환경의 String 값을 가져올 수 있고, `is` 속성으로 대상 환경인지 여부를 Boolean으로 확인할 수 있다.
 * 지원하는 환경은 `agent`의 `OSES`, `TYPES`, `VENDORS`, `BROWSERS` 속성을 참고한다.
 *
 * ----
 * agent.os.name; //--> mac
 * agent.os.is.mac; //--> true
 * agent.os.is.windows; //--> false
 *
 * agent.type.name; //--> desktop
 * agent.type.is.desktop; //--> true
 * agent.type.is.mobile; //--> false
 * agent.type.is.tablet; //--> false
 * ----
 *
 * - 기본 정보 외에, 현재 환경에서 지원하는 기능 정보는 `agentSupport.js` 모듈에서 추가 제공한다.
 * - agent 모듈은 RequireJS가 시작되기 전에 호출되는 경우도 있기 때문에, 다른 모듈에 의존하지 않도록 구현한다.
 *
 * @see common/agentSupport.js
 */
(function (global, factory) {
  // some codes
})();
```

**[⬆ 처음으로](#table-of-contents)**

---

<a name="optional"></a>
## [3.](#optional) 선택사항
namespace, function 등 각 항목들에 아래와 같이 JSDoc 주석을 표기할 수 있다.  
외부에 노출하는 부분이나 사내 공통모듈에 작성하기를 권장한다. 

<a name="namespace"></a>
### [3.1](#namespace) namespace

```javascript
/**
 *  Description of namespace here.
 *  @namespace
 */
var Utils = {
  getUserName: function...
};
```

네임스페이스 정의의 외부에 있는 함수에 대해서도 @memberOf를 이용해 추가할 수 있다.
```javascript
/**
 * Takes 2 numbers and returns their sum.
 * @memberOf Utils
 *
 * @param   {number} a The first number
 * @param   {number} b The second number
 *
 * @returns {number} The sum of a and b
 */
function addNumbers(a, b) {
  return a + b;
}
```

<a name="module"></a>
### [3.2](#module) module
@module 태그는 현재 파일 자체를 모듈로 표시한다. 
```javascript
/**
 * description of module here
 * @module ModuleName
 */

module.exports = new(function () {
...
```

```javascript
/** @module myModule */

/** will be module:myModule~foo */
var foo = 1;

/** will be module:myModule.bar */
var bar = function() {};
```
```javascript
/** @module color/mixer */

/** The name of the module. */
export const name = 'mixer';

/** The most recent blended color. */
export var lastColor = null;

/**
 * Blend two colors together.
 * @param {string} color1 - The first color, in hexadecimal format.
 * @param {string} color2 - The second color, in hexadecimal format.
 * @return {string} The blended color.
 */
export function blend(color1, color2) {}

// convert color to array of RGB values (0-255)
function rgbify(color) {}

export {
    /**
     * Get the red, green, and blue values of a color.
     * @function
     * @param {string} color - A color, in hexadecimal format.
     * @returns {Array.<number>} An array of the red, green, and blue values,
     * each ranging from 0 to 255.
     */
    rgbify as toRgb
}
```

<a name="function"></a>
### [3.3](#function) function
함수에 JSDoc 주석을 작성하는 경우 @param 태그와 @returns 태그를 필수로 지정하고 있다.  
매개변수가 있는 경우 @param 태그가 필수이고, 반환값이 있는 경우 @returns 태그가 필수이다.  

```javascript
/**
 * Takes 2 numbers and returns their sum.
 * @param {number} a the first number
 * @param {number} b the second number
 * @param {number} [c=0] the optional third number
 *
 * @returns {number} the sum of a, b and c
 */
function addNumbers(a, b, c) {
  if (typeof c === "undefined") {
    c = 0;
  }
  return a + b + c;
}
```

<a name="class"></a>
### [3.4](#class) class 
```javascript
/**
 * Class representing a dot.
 * @extends Point
 */
class Dot extends Point {
    /**
     * Create a dot.
     * @param {number} x The x value.
     * @param {number} y The y value.
     * @param {number} width The width of the dot, in pixels.
     */
    constructor(x, y, width) {
      super(x, y);
      // ...
    }

    /**
     * Get the dot's width.
     * @return {number} The dot's width, in pixels.
     */
    getWidth() {
        // ...
    }

    /**
     * Get the x value.
     * @return {number} The x value.
     */
    getX() {
        // ...
    }
}
```

<a name="example"></a>
### [3.5](#example) example
```javascript
/**
 * Solves equations of the form a * x = b
 * @example
 * // returns 2
 * globalNS.method1(5, 10);
 * @example
 * // returns 3
 * globalNS.method(5, 15);
 * @returns {Number} Returns the value of x for the equation.
 */
method1 = function (a, b) {
    return b / a;
};
```

**[⬆ 처음으로](#table-of-contents)**

---

<a name="ide-setting"></a>
## [4.](#ide-setting) IDE 지원
주요 IDE에서 JSDoc 형태의 주석을 자동 생성할 수 있다.

### Intelli J
IDE 자체에서 지원하므로 함수나 변수 위에서 /** 입력 후 엔터키를 입력하면 매개변수나 이름 등에 대한 주석이 자동 생성된다.

### VS Code
플러그인을 통해 지원하며, 자세한 내용은 아래 플러그인 홈페이지 참조.

- [Complete JSDoc Tags 홈페이지](https://marketplace.visualstudio.com/items?itemName=HookyQR.JSDocTagComplete)

### Sublime
플러그인을 통해 지원하며, 자세한 내용은 아래 플러그인 홈페이지 참조.

- [sublime-jsdocs 폼페이지](https://github.com/spadgos/sublime-jsdocs)

### Vim
플러그인을 통해 지원하며, 자세한 내용은 아래 플러그인 홈페이지 참조.

- [jsdoc.vim 홈페이지](https://github.com/heavenshell/vim-jsdoc)

**[⬆ 처음으로](#table-of-contents)**

---

<a name="eslint-plugin-jsdoc"></a>
## [5.](#eslint-plugin-jsdoc) eslint-plugin-jsdoc 기반 규칙

ESLint와 연동되는 eslint-plugin-jsdoc으로 JSDoc 주석의 규칙을 검사할 수 있다.  
/** 로 시작하는 JSDoc 주석이 있을 때에만 내부의 규칙을 검사하므로 모든 함수나 변수 등에 주석을 강제하지는 않는다.  
카카오 스타일 가이드에서 제시하는 규칙은 아래 목록과 같다.  