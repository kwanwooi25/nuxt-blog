const watch = require('watch');
const {build, RULE_PATH, TEMPLATE_PATH} = require('./generator');

const [, , targetDir] = process.argv;

const doBuild = () => build({targetDir});

watch.watchTree(`${targetDir}/${RULE_PATH}`, doBuild);
watch.watchTree(`${targetDir}/${TEMPLATE_PATH}`, doBuild);
